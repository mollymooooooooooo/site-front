{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\projectDyson\\\\dyson1\\\\src\\\\components\\\\product_card\\\\product_card.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useCart } from '../../context/CartContext';\nimport ProductCardActions from '../product_card_actions/product_card_actions';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  image,\n  title,\n  price,\n  oldPrice,\n  inStock,\n  discount,\n  deliveryDate,\n  rating,\n  orderCount,\n  id\n}) => {\n  _s();\n  const [quantity, setQuantity] = useState(1);\n  const {\n    addToCart\n  } = useCart();\n  const navigate = useNavigate();\n  const handleDecrement = e => {\n    e.stopPropagation();\n    if (quantity > 1) {\n      setQuantity(quantity - 1);\n    }\n  };\n  const handleIncrement = e => {\n    e.stopPropagation();\n    if (quantity < 99) {\n      setQuantity(quantity + 1);\n    }\n  };\n  const handleQuantityChange = e => {\n    e.stopPropagation();\n    const value = e.target.value.replace(/[^0-9]/g, '');\n    if (value === '') {\n      setQuantity('');\n    } else {\n      const parsedValue = parseInt(value, 10);\n      setQuantity(Math.min(Math.max(1, parsedValue), 99));\n    }\n  };\n  const handleQuantityBlur = e => {\n    e.stopPropagation();\n    if (!quantity || quantity < 1) {\n      setQuantity(1);\n    } else if (quantity > 99) {\n      setQuantity(99);\n    }\n  };\n  const handleAddToCart = e => {\n    e.stopPropagation();\n    addToCart({\n      id,\n      image,\n      title,\n      price,\n      oldPrice,\n      inStock,\n      discount\n    }, quantity);\n  };\n  const handleCardClick = () => {\n    navigate(`/product/${id}`);\n  };\n  const formatDate = date => {\n    return new Date(date).toLocaleDateString('ru-RU', {\n      day: 'numeric',\n      month: 'long'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-card\",\n    onClick: handleCardClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-card__image\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-card__info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"product-card__title\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card__row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card__availability-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"product-card__dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"product-card__in-stock-label\",\n            children: \"\\u0412 \\u043D\\u0430\\u043B\\u0438\\u0447\\u0438\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), discount && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"product-card__discount\",\n          children: [\"-\", discount, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card__row product-card__row--price\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"product-card__price\",\n          children: [price.toLocaleString(), \"\\u0420\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), oldPrice && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"product-card__old-price\",\n          children: [oldPrice.toLocaleString(), \"\\u0420\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductCardActions, {\n      quantity: quantity,\n      onDecrement: handleDecrement,\n      onIncrement: handleIncrement,\n      onQuantityChange: handleQuantityChange,\n      onQuantityBlur: handleQuantityBlur,\n      onAddToCart: handleAddToCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductCard, \"E1HwmMyv1SqkbL3lVeEy4ECATnc=\", false, function () {\n  return [useCart, useNavigate];\n});\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","useState","useNavigate","useCart","ProductCardActions","jsxDEV","_jsxDEV","ProductCard","image","title","price","oldPrice","inStock","discount","deliveryDate","rating","orderCount","id","_s","quantity","setQuantity","addToCart","navigate","handleDecrement","e","stopPropagation","handleIncrement","handleQuantityChange","value","target","replace","parsedValue","parseInt","Math","min","max","handleQuantityBlur","handleAddToCart","handleCardClick","formatDate","date","Date","toLocaleDateString","day","month","className","onClick","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","onDecrement","onIncrement","onQuantityChange","onQuantityBlur","onAddToCart","_c","$RefreshReg$"],"sources":["C:/Users/user/OneDrive/Desktop/projectDyson/dyson1/src/components/product_card/product_card.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useCart } from '../../context/CartContext';\r\nimport ProductCardActions from '../product_card_actions/product_card_actions';\r\nimport './styles.css';\r\n\r\nconst ProductCard = ({ \r\n    image, \r\n    title, \r\n    price, \r\n    oldPrice, \r\n    inStock, \r\n    discount,\r\n    deliveryDate,\r\n    rating,\r\n    orderCount,\r\n    id\r\n}) => {\r\n    const [quantity, setQuantity] = useState(1);\r\n    const { addToCart } = useCart();\r\n    const navigate = useNavigate();\r\n\r\n    const handleDecrement = (e) => {\r\n        e.stopPropagation();\r\n        if (quantity > 1) {\r\n            setQuantity(quantity - 1);\r\n        }\r\n    };\r\n\r\n    const handleIncrement = (e) => {\r\n        e.stopPropagation();\r\n        if (quantity < 99) {\r\n            setQuantity(quantity + 1);\r\n        }\r\n    };\r\n\r\n    const handleQuantityChange = (e) => {\r\n        e.stopPropagation();\r\n        const value = e.target.value.replace(/[^0-9]/g, '');\r\n        if (value === '') {\r\n            setQuantity('');\r\n        } else {\r\n            const parsedValue = parseInt(value, 10);\r\n            setQuantity(Math.min(Math.max(1, parsedValue), 99));\r\n        }\r\n    };\r\n\r\n    const handleQuantityBlur = (e) => {\r\n        e.stopPropagation();\r\n        if (!quantity || quantity < 1) {\r\n            setQuantity(1);\r\n        } else if (quantity > 99) {\r\n            setQuantity(99);\r\n        }\r\n    };\r\n\r\n    const handleAddToCart = (e) => {\r\n        e.stopPropagation();\r\n        addToCart({ id, image, title, price, oldPrice, inStock, discount }, quantity);\r\n    };\r\n\r\n    const handleCardClick = () => {\r\n        navigate(`/product/${id}`);\r\n    };\r\n\r\n    const formatDate = (date) => {\r\n        return new Date(date).toLocaleDateString('ru-RU', {\r\n            day: 'numeric',\r\n            month: 'long'\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"product-card\" onClick={handleCardClick}>\r\n            <div className=\"product-card__image\">\r\n                <img src={image} alt={title} />\r\n            </div>\r\n            <div className=\"product-card__info\">\r\n                <p className=\"product-card__title\">{title}</p>\r\n                <div className=\"product-card__row\">\r\n                    <div className=\"product-card__availability-block\">\r\n                        <span className=\"product-card__dot\" />\r\n                        <span className=\"product-card__in-stock-label\">В наличии</span>\r\n                    </div>\r\n                    {discount && <span className=\"product-card__discount\">-{discount}%</span>}\r\n                </div>\r\n                <div className=\"product-card__row product-card__row--price\">\r\n                    <span className=\"product-card__price\">{price.toLocaleString()}Р</span>\r\n                    {oldPrice && <span className=\"product-card__old-price\">{oldPrice.toLocaleString()}Р</span>}\r\n                </div>\r\n            </div>\r\n            <ProductCardActions\r\n                quantity={quantity}\r\n                onDecrement={handleDecrement}\r\n                onIncrement={handleIncrement}\r\n                onQuantityChange={handleQuantityChange}\r\n                onQuantityBlur={handleQuantityBlur}\r\n                onAddToCart={handleAddToCart}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}