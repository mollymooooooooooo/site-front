{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\projectDyson\\\\dyson1\\\\src\\\\sections\\\\review_window\\\\ReviewWindow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport './review_window.css';\nimport starIconFilled from '../../images/icons/star.svg';\nimport starIconEmpty from '../../images/icons/empty_star.svg';\nimport closeIcon from '../../images/icons/close.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReviewWindow = ({\n  isOpen,\n  onClose,\n  addReview,\n  initialRating = 0\n}) => {\n  _s();\n  const [rating, setRating] = useState(initialRating);\n  const [selectedImages, setSelectedImages] = useState([]);\n  const fileInputRef = useRef(null);\n  const [name, setName] = useState('');\n  const [comment, setComment] = useState('');\n  const [errors, setErrors] = useState({});\n  const [isDragActive, setIsDragActive] = useState(false);\n\n  // Reset form when modal opens with new initialRating\n  React.useEffect(() => {\n    if (isOpen) {\n      setRating(initialRating);\n      setSelectedImages([]);\n    }\n  }, [isOpen, initialRating]);\n  const renderStars = () => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(/*#__PURE__*/_jsxDEV(\"img\", {\n        src: i <= rating ? starIconFilled : starIconEmpty,\n        alt: \"Star\",\n        className: \"review-star-icon\",\n        onClick: () => setRating(i)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this));\n    }\n    return stars;\n  };\n  const handleImageUploadClick = () => {\n    fileInputRef.current.click();\n  };\n  const handleFileChange = event => {\n    const files = Array.from(event.target.files);\n    const imagePromises = files.map(file => {\n      return new Promise((resolve, reject) => {\n        if (file && file.type.startsWith('image/')) {\n          const reader = new FileReader();\n          reader.onloadend = () => {\n            resolve(reader.result);\n          };\n          reader.onerror = reject;\n          reader.readAsDataURL(file);\n        } else {\n          resolve(null);\n        }\n      });\n    });\n    Promise.all(imagePromises).then(images => {\n      setSelectedImages(images.filter(Boolean));\n    });\n  };\n  const handleDrop = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragActive(false);\n    const files = Array.from(event.dataTransfer.files);\n    const imagePromises = files.map(file => {\n      return new Promise((resolve, reject) => {\n        if (file && file.type.startsWith('image/')) {\n          const reader = new FileReader();\n          reader.onloadend = () => {\n            resolve(reader.result);\n          };\n          reader.onerror = reject;\n          reader.readAsDataURL(file);\n        } else {\n          resolve(null);\n        }\n      });\n    });\n    Promise.all(imagePromises).then(images => {\n      setSelectedImages(images.filter(Boolean));\n    });\n  };\n  const handleDragOver = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragActive(true);\n  };\n  const handleDragLeave = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragActive(false);\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!name.trim()) {\n      newErrors.name = 'Имя не может быть пустым';\n    } else if (name.length > 10) {\n      newErrors.name = 'Имя не должно превышать 10 символов';\n    }\n    if (rating === 0) {\n      newErrors.rating = 'Пожалуйста, поставьте оценку';\n    }\n    if (!comment.trim()) {\n      newErrors.comment = 'Комментарий не может быть пустым';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleNameChange = e => {\n    const value = e.target.value;\n    if (value.length <= 10) {\n      setName(value);\n    }\n  };\n  const handleSubmit = () => {\n    if (validateForm()) {\n      const commentLines = comment.trim().split('\\n');\n      const title = commentLines[0];\n      const remainingText = commentLines.slice(1).join('\\n').trim();\n      const newReview = {\n        id: Date.now(),\n        // Простой уникальный ID\n        name: name.trim(),\n        date: new Date().toLocaleDateString('en-GB'),\n        // Формат даты dd/mm/yyyy\n        rating: rating,\n        title: title,\n        text: remainingText,\n        photos: selectedImages\n      };\n      addReview(newReview);\n      onClose(); // Закрыть модальное окно после успешной отправки\n      // Сбросить состояние формы после отправки\n      setName('');\n      setRating(0);\n      setComment('');\n      setSelectedImages([]);\n      setErrors({});\n    }\n  };\n  if (!isOpen) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"review-modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"review-modal-close-btn\",\n        onClick: onClose,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: closeIcon,\n          alt: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"review-modal-title\",\n        children: \"\\u041D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-rating-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"review-rating-label\",\n          children: \"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-stars-interactive\",\n          children: renderStars()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), errors.rating && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"review-error-message\",\n          children: errors.rating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",\n          className: `review-input ${errors.name ? 'input-error' : ''}`,\n          value: name,\n          onChange: handleNameChange,\n          maxLength: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"review-error-message\",\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n          className: `review-textarea ${errors.comment ? 'input-error' : ''}`,\n          value: comment,\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), errors.comment && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"review-error-message\",\n          children: errors.comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `review-photo-upload-section${isDragActive ? ' drag-active' : ''}`,\n        onDrop: handleDrop,\n        onDragOver: handleDragOver,\n        onDragLeave: handleDragLeave,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          ref: fileInputRef,\n          onChange: handleFileChange,\n          style: {\n            display: 'none'\n          },\n          multiple: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"review-photo-upload-link\",\n          onClick: handleImageUploadClick,\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), selectedImages.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            flexWrap: 'wrap'\n          },\n          children: selectedImages.map((img, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: img,\n            alt: `Selected ${idx + 1}`,\n            className: \"review-preview-image\"\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"review-photo-upload-hint\",\n          children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u043A\\u043D\\u043E\\u043F\\u043A\\u0443 \\\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\\" \\u0438\\u043B\\u0438 \\u043F\\u0435\\u0440\\u0435\\u0442\\u0430\\u0449\\u0438\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0438 \\u0432 \\u044D\\u0442\\u0443 \\u043E\\u0431\\u043B\\u0430\\u0441\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"review-submit-btn\",\n        onClick: handleSubmit,\n        children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n};\n_s(ReviewWindow, \"Mymj1Cm19UmbCTZ4vPdJYuJJcxM=\");\n_c = ReviewWindow;\nexport default ReviewWindow;\nvar _c;\n$RefreshReg$(_c, \"ReviewWindow\");","map":{"version":3,"names":["React","useState","useRef","starIconFilled","starIconEmpty","closeIcon","jsxDEV","_jsxDEV","ReviewWindow","isOpen","onClose","addReview","initialRating","_s","rating","setRating","selectedImages","setSelectedImages","fileInputRef","name","setName","comment","setComment","errors","setErrors","isDragActive","setIsDragActive","useEffect","renderStars","stars","i","push","src","alt","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","handleImageUploadClick","current","click","handleFileChange","event","files","Array","from","target","imagePromises","map","file","Promise","resolve","reject","type","startsWith","reader","FileReader","onloadend","result","onerror","readAsDataURL","all","then","images","filter","Boolean","handleDrop","preventDefault","stopPropagation","dataTransfer","handleDragOver","handleDragLeave","validateForm","newErrors","trim","length","Object","keys","handleNameChange","e","value","handleSubmit","commentLines","split","title","remainingText","slice","join","newReview","id","Date","now","date","toLocaleDateString","text","photos","children","placeholder","onChange","maxLength","onDrop","onDragOver","onDragLeave","accept","ref","style","display","multiple","gap","flexWrap","img","idx","_c","$RefreshReg$"],"sources":["C:/Users/user/OneDrive/Desktop/projectDyson/dyson1/src/sections/review_window/ReviewWindow.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport './review_window.css';\r\nimport starIconFilled from '../../images/icons/star.svg';\r\nimport starIconEmpty from '../../images/icons/empty_star.svg';\r\nimport closeIcon from '../../images/icons/close.svg';\r\n\r\nconst ReviewWindow = ({ isOpen, onClose, addReview, initialRating = 0 }) => {\r\n    const [rating, setRating] = useState(initialRating);\r\n    const [selectedImages, setSelectedImages] = useState([]);\r\n    const fileInputRef = useRef(null);\r\n    const [name, setName] = useState('');\r\n    const [comment, setComment] = useState('');\r\n    const [errors, setErrors] = useState({});\r\n    const [isDragActive, setIsDragActive] = useState(false);\r\n\r\n    // Reset form when modal opens with new initialRating\r\n    React.useEffect(() => {\r\n        if (isOpen) {\r\n            setRating(initialRating);\r\n            setSelectedImages([]);\r\n        }\r\n    }, [isOpen, initialRating]);\r\n\r\n    const renderStars = () => {\r\n        const stars = [];\r\n        for (let i = 1; i <= 5; i++) {\r\n            stars.push(\r\n                <img\r\n                    key={i}\r\n                    src={i <= rating ? starIconFilled : starIconEmpty}\r\n                    alt=\"Star\"\r\n                    className=\"review-star-icon\"\r\n                    onClick={() => setRating(i)}\r\n                />\r\n            );\r\n        }\r\n        return stars;\r\n    };\r\n\r\n    const handleImageUploadClick = () => {\r\n        fileInputRef.current.click();\r\n    };\r\n\r\n    const handleFileChange = (event) => {\r\n        const files = Array.from(event.target.files);\r\n        const imagePromises = files.map(file => {\r\n            return new Promise((resolve, reject) => {\r\n                if (file && file.type.startsWith('image/')) {\r\n                    const reader = new FileReader();\r\n                    reader.onloadend = () => {\r\n                        resolve(reader.result);\r\n                    };\r\n                    reader.onerror = reject;\r\n                    reader.readAsDataURL(file);\r\n                } else {\r\n                    resolve(null);\r\n                }\r\n            });\r\n        });\r\n        Promise.all(imagePromises).then(images => {\r\n            setSelectedImages(images.filter(Boolean));\r\n        });\r\n    };\r\n\r\n    const handleDrop = (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        setIsDragActive(false);\r\n        const files = Array.from(event.dataTransfer.files);\r\n        const imagePromises = files.map(file => {\r\n            return new Promise((resolve, reject) => {\r\n                if (file && file.type.startsWith('image/')) {\r\n                    const reader = new FileReader();\r\n                    reader.onloadend = () => {\r\n                        resolve(reader.result);\r\n                    };\r\n                    reader.onerror = reject;\r\n                    reader.readAsDataURL(file);\r\n                } else {\r\n                    resolve(null);\r\n                }\r\n            });\r\n        });\r\n        Promise.all(imagePromises).then(images => {\r\n            setSelectedImages(images.filter(Boolean));\r\n        });\r\n    };\r\n\r\n    const handleDragOver = (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        setIsDragActive(true);\r\n    };\r\n\r\n    const handleDragLeave = (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        setIsDragActive(false);\r\n    };\r\n\r\n    const validateForm = () => {\r\n        const newErrors = {};\r\n        if (!name.trim()) {\r\n            newErrors.name = 'Имя не может быть пустым';\r\n        } else if (name.length > 10) {\r\n            newErrors.name = 'Имя не должно превышать 10 символов';\r\n        }\r\n        if (rating === 0) {\r\n            newErrors.rating = 'Пожалуйста, поставьте оценку';\r\n        }\r\n        if (!comment.trim()) {\r\n            newErrors.comment = 'Комментарий не может быть пустым';\r\n        }\r\n        setErrors(newErrors);\r\n        return Object.keys(newErrors).length === 0;\r\n    };\r\n\r\n    const handleNameChange = (e) => {\r\n        const value = e.target.value;\r\n        if (value.length <= 10) {\r\n            setName(value);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = () => {\r\n        if (validateForm()) {\r\n            const commentLines = comment.trim().split('\\n');\r\n            const title = commentLines[0];\r\n            const remainingText = commentLines.slice(1).join('\\n').trim();\r\n\r\n            const newReview = {\r\n                id: Date.now(), // Простой уникальный ID\r\n                name: name.trim(),\r\n                date: new Date().toLocaleDateString('en-GB'), // Формат даты dd/mm/yyyy\r\n                rating: rating,\r\n                title: title,\r\n                text: remainingText,\r\n                photos: selectedImages,\r\n            };\r\n            addReview(newReview);\r\n            onClose(); // Закрыть модальное окно после успешной отправки\r\n            // Сбросить состояние формы после отправки\r\n            setName('');\r\n            setRating(0);\r\n            setComment('');\r\n            setSelectedImages([]);\r\n            setErrors({});\r\n        }\r\n    };\r\n\r\n    if (!isOpen) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"review-modal-overlay\" onClick={onClose}>\r\n            <div className=\"review-modal-content\" onClick={(e) => e.stopPropagation()}>\r\n                <button className=\"review-modal-close-btn\" onClick={onClose}>\r\n                    <img src={closeIcon} alt=\"Close\" />\r\n                </button>\r\n                <h2 className=\"review-modal-title\">Написать отзыв</h2>\r\n\r\n                <div className=\"review-rating-section\">\r\n                    <p className=\"review-rating-label\">Оценка</p>\r\n                    <div className=\"review-stars-interactive\">\r\n                        {renderStars()}\r\n                    </div>\r\n                    {errors.rating && <p className=\"review-error-message\">{errors.rating}</p>}\r\n                </div>\r\n\r\n                <div className=\"review-form-group\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Ваше имя\"\r\n                        className={`review-input ${errors.name ? 'input-error' : ''}`}\r\n                        value={name}\r\n                        onChange={handleNameChange}\r\n                        maxLength={10}\r\n                    />\r\n                    {errors.name && <p className=\"review-error-message\">{errors.name}</p>}\r\n                </div>\r\n\r\n                <div className=\"review-form-group\">\r\n                    <textarea\r\n                        placeholder=\"Комментарий\"\r\n                        className={`review-textarea ${errors.comment ? 'input-error' : ''}`}\r\n                        value={comment}\r\n                        onChange={(e) => setComment(e.target.value)}\r\n                    ></textarea>\r\n                    {errors.comment && <p className=\"review-error-message\">{errors.comment}</p>}\r\n                </div>\r\n\r\n                <div \r\n                    className={`review-photo-upload-section${isDragActive ? ' drag-active' : ''}`}\r\n                    onDrop={handleDrop}\r\n                    onDragOver={handleDragOver}\r\n                    onDragLeave={handleDragLeave}\r\n                >\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        ref={fileInputRef}\r\n                        onChange={handleFileChange}\r\n                        style={{ display: 'none' }}\r\n                        multiple\r\n                    />\r\n                    <p className=\"review-photo-upload-link\" onClick={handleImageUploadClick}>Загрузить фото</p>\r\n                    {selectedImages.length > 0 ? (\r\n                        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\r\n                            {selectedImages.map((img, idx) => (\r\n                                <img key={idx} src={img} alt={`Selected ${idx+1}`} className=\"review-preview-image\" />\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <p className=\"review-photo-upload-hint\">Нажмите кнопку \"Загрузить фото\" или перетащите фотографии в эту область</p>\r\n                    )}\r\n                </div>\r\n\r\n                <button className=\"review-submit-btn\" onClick={handleSubmit}>Отправить отзыв</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ReviewWindow; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}